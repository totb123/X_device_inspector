{"ast":null,"code":"var _jsxFileName = \"/Users/Rober/dev/work/x_keeper/new_device_inspector/device_inspector_frontend/device_inspector_frontend/src/features/inspectionsCheck/components/unverifiedInspectionsList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { List, Pagination, Spin, Typography } from 'antd';\nimport Paragraph from 'antd/es/typography/Paragraph';\nimport { InspectionsVerificationContext } from '../context/inspectionsVerificationContext';\nimport { UnverifiedInspectionCard } from './unverifiedInspectionCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UnveridiedInspectionsList = props => {\n  _s();\n  const updatePaginationValues = (page, size) => {\n    setCurrentPage(page);\n    setPageSize(size);\n  };\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const {\n    inspections,\n    inspectionsStatus,\n    inspectionsRefetch,\n    inspectionsTotal\n  } = useContext(InspectionsVerificationContext);\n  useEffect(() => {\n    inspectionsRefetch();\n    inspectionsTotal.refetch();\n    return () => {};\n  }, [currentPage, pageSize, inspectionsTotal.refetch, inspectionsStatus]);\n  useEffect(() => {\n    if (props.isChangeStatus) {\n      inspectionsRefetch();\n      inspectionsTotal.refetch();\n      props.setIsChangeStatus(false);\n    }\n  }, [props.isChangeStatus]);\n  if (inspectionsStatus == 'error') {\n    var _inspectionsData;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: (_inspectionsData = inspectionsData) === null || _inspectionsData === void 0 ? void 0 : _inspectionsData.toString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Pagination, {\n      defaultCurrent: 1,\n      onChange: updatePaginationValues,\n      total: inspectionsTotal.data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), inspectionsStatus == 'loading' ? /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(List, {\n      children: inspectionsData.map(element => /*#__PURE__*/_jsxDEV(UnverifiedInspectionCard, {\n        inspection: element,\n        handleModal: () => {\n          props.toggleModal(inspectionsData, element.id);\n        },\n        onInspectionsChange: props.setIsChangeStatus\n      }, element.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(UnveridiedInspectionsList, \"1tmAZ3iza9cxpR3EyTC0ETshbc0=\");\n_c = UnveridiedInspectionsList;\nvar _c;\n$RefreshReg$(_c, \"UnveridiedInspectionsList\");","map":{"version":3,"names":["React","useContext","useEffect","useState","List","Pagination","Spin","Typography","Paragraph","InspectionsVerificationContext","UnverifiedInspectionCard","jsxDEV","_jsxDEV","UnveridiedInspectionsList","props","_s","updatePaginationValues","page","size","setCurrentPage","setPageSize","currentPage","pageSize","inspections","inspectionsStatus","inspectionsRefetch","inspectionsTotal","refetch","isChangeStatus","setIsChangeStatus","_inspectionsData","children","fileName","_jsxFileName","lineNumber","columnNumber","inspectionsData","toString","defaultCurrent","onChange","total","data","map","element","inspection","handleModal","toggleModal","id","onInspectionsChange","_c","$RefreshReg$"],"sources":["/Users/Rober/dev/work/x_keeper/new_device_inspector/device_inspector_frontend/device_inspector_frontend/src/features/inspectionsCheck/components/unverifiedInspectionsList.tsx"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\n\nimport {List, Pagination, Spin, Typography} from 'antd'\nimport Paragraph from 'antd/es/typography/Paragraph'\nimport { \n  InspectionsVerificationContext \n} from '../context/inspectionsVerificationContext'\nimport { UnverifiedInspectionCard } from './unverifiedInspectionCard'\n\n\ntype UnveridiedInspectionsListProps = {\n  toggleModal: Function\n  isChangeStatus: boolean\n  setIsChangeStatus: Function\n}\n\nexport const UnveridiedInspectionsList: React.FC<\nUnveridiedInspectionsListProps\n> = props => {\n  const updatePaginationValues = (\n    page: number, size: number\n  ) => {\n    setCurrentPage(page)\n    setPageSize(size)\n  }\n  const [currentPage, setCurrentPage] = useState<number>(1)\n  const [pageSize, setPageSize] = useState(10)\n  \n  const {\n    inspections,\n    inspectionsStatus,\n    inspectionsRefetch,\n    inspectionsTotal\n  } = useContext(InspectionsVerificationContext)!\n  useEffect(() => {\n    \n    (inspectionsRefetch as Function)()\n    inspectionsTotal.refetch()\n    return () => {\n    }\n  }, [currentPage, pageSize, inspectionsTotal.refetch, inspectionsStatus])\n\n  useEffect(() => {\n    if (props.isChangeStatus) {\n      (inspectionsRefetch as Function)()\n      inspectionsTotal.refetch()\n      props.setIsChangeStatus(false)\n    }\n  }, [props.isChangeStatus])\n  \n  if (inspectionsStatus == 'error') {\n    return <div>\n      <Paragraph>\n        Error\n      </Paragraph>\n      <Typography>\n        {inspectionsData?.toString()}\n      </Typography>\n    </div>\n  }\n  \n  return (\n    <div>\n      <Pagination \n        defaultCurrent={1}  \n        onChange={updatePaginationValues}\n        total={inspectionsTotal.data}\n      />\n      {\n        inspectionsStatus == 'loading'\n          ? <Spin/>\n          : <List>\n            {\n              inspectionsData!\n                .map(element =>\n                  <UnverifiedInspectionCard\n                    key={element.id}\n                    inspection={element}\n                    handleModal={() => {\n                      props.toggleModal(\n                        inspectionsData!,\n                        element.id)\n                    }}\n                    onInspectionsChange={props.setIsChangeStatus}\n                  />)\n            }\n          </List>\n      }\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}