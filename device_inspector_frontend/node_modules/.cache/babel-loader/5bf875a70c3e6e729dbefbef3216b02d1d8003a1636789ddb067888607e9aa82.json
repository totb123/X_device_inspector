{"ast":null,"code":"var _jsxFileName = \"/Users/Rober/dev/work/x_keeper/new_device_inspector/device_inspector_frontend/src/features/inspectionsHistory/components/inspectionList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { List, Pagination, Spin, Typography } from 'antd';\nimport Paragraph from 'antd/es/typography/Paragraph';\nimport useInspectionGet from '../hooks/useInspectionGet';\nimport { InspectionCard } from '../../../components/inspectionCard';\nimport { useFilter } from '../context/historyFilterContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const InspectionList = props => {\n  _s();\n  const updatePaginationValues = (page, size) => {\n    setCurrentPage(page);\n    setPageSize(size);\n  };\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const filter = useFilter();\n  const {\n    inspectionsData,\n    inspectionsStatus,\n    inspectionsRefetch,\n    inspectionsTotal\n  } = useInspectionGet(filter, currentPage, pageSize);\n  useEffect(() => {\n    inspectionsRefetch();\n    inspectionsTotal.refetch();\n    return () => {};\n  }, [filter, currentPage, pageSize, inspectionsTotal.refetch]);\n  useEffect(() => {\n    if (props.isChangeStatus) {\n      inspectionsRefetch();\n      inspectionsTotal.refetch();\n      props.setIsChangeStatus(false);\n    }\n  }, [props.isChangeStatus]);\n  if (inspectionsStatus == 'error') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: inspectionsData === null || inspectionsData === void 0 ? void 0 : inspectionsData.toString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Pagination, {\n      defaultCurrent: 1,\n      onChange: updatePaginationValues,\n      total: inspectionsTotal.data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), inspectionsStatus == 'loading' ? /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(List, {\n      children: inspectionsData.map(element => /*#__PURE__*/_jsxDEV(InspectionCard, {\n        inspection: element,\n        handleModal: () => {\n          props.toggleModal(inspectionsData, element.id);\n        }\n      }, element.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(InspectionList, \"QKY0Qsg2m76gjlH6SWZeR9f+5IU=\", false, function () {\n  return [useFilter, useInspectionGet];\n});\n_c = InspectionList;\nvar _c;\n$RefreshReg$(_c, \"InspectionList\");","map":{"version":3,"names":["React","useEffect","useState","List","Pagination","Spin","Typography","Paragraph","useInspectionGet","InspectionCard","useFilter","jsxDEV","_jsxDEV","InspectionList","props","_s","updatePaginationValues","page","size","setCurrentPage","setPageSize","currentPage","pageSize","filter","inspectionsData","inspectionsStatus","inspectionsRefetch","inspectionsTotal","refetch","isChangeStatus","setIsChangeStatus","children","fileName","_jsxFileName","lineNumber","columnNumber","toString","defaultCurrent","onChange","total","data","map","element","inspection","handleModal","toggleModal","id","_c","$RefreshReg$"],"sources":["/Users/Rober/dev/work/x_keeper/new_device_inspector/device_inspector_frontend/src/features/inspectionsHistory/components/inspectionList.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\n\nimport {List, Pagination, Spin, Typography} from 'antd'\nimport Paragraph from 'antd/es/typography/Paragraph'\nimport useInspectionGet from '../hooks/useInspectionGet'\nimport { InspectionCard } from '../../../components/inspectionCard'\nimport { useFilter } from '../context/historyFilterContext'\n\ntype InspectionListProps = {\n  toggleModal: Function\n  isChangeStatus: boolean\n  setIsChangeStatus: Function\n}\n\nexport const InspectionList: React.FC<InspectionListProps> = props => {\n\n\n  const updatePaginationValues = (\n    page: number, size: number\n  ) => {\n    setCurrentPage(page)\n    setPageSize(size)\n  }\n  const [currentPage, setCurrentPage] = useState<number>(1)\n  const [pageSize, setPageSize] = useState(10)\n  const filter = useFilter()\n  const {\n    inspectionsData,\n    inspectionsStatus,\n    inspectionsRefetch,\n    inspectionsTotal\n  } = useInspectionGet(filter, currentPage, pageSize)\n  useEffect(() => {\n    (inspectionsRefetch as Function)()\n    inspectionsTotal.refetch()\n    return () => {\n    }\n  }, [filter, currentPage, pageSize, inspectionsTotal.refetch])\n\n  useEffect(() => {\n    if (props.isChangeStatus) {\n      (inspectionsRefetch as Function)()\n      inspectionsTotal.refetch()\n      props.setIsChangeStatus(false)\n    }\n  }, [props.isChangeStatus])\n  \n  if (inspectionsStatus == 'error') {\n    return <div>\n      <Paragraph>\n        Error\n      </Paragraph>\n      <Typography>\n        {inspectionsData?.toString()}\n      </Typography>\n    </div>\n  }\n  \n  return (\n    <div>\n      <Pagination \n        defaultCurrent={1}  \n        onChange={updatePaginationValues}\n        total={inspectionsTotal.data}\n      />\n      {\n        inspectionsStatus == 'loading'\n          ? <Spin/>\n          : <List>\n            {\n              inspectionsData!\n                .map(element =>\n                  <InspectionCard\n                    key={element.id}\n                    inspection={element}\n                    handleModal={() => {\n                      props.toggleModal(\n                        inspectionsData!,\n                        element.id)\n                    }}\n                  />)\n            }\n          </List>\n      }\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}